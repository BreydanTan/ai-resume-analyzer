# ç¬¬3é˜¶æ®µï¼šæ•°æ®åº“ä¸å­˜å‚¨ | Core Features Stage

## ğŸ¯ é˜¶æ®µç›®æ ‡ï¼šæ•°æ®æ€ä¹ˆå­˜çš„ï¼Œæˆ‘æ‡‚äº†ï¼

**æ—¶é—´**: 6-10å¤© | **æ¯å¤©æ—¶é—´**: 2-3å°æ—¶ | **éš¾åº¦**: â­â­â­ ä¸­ç­‰

> åœ¨è¿™ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬æ·±å…¥äº‘ç«¯ï¼Œç†è§£æ•°æ®å­˜å‚¨çš„æ ¸å¿ƒæ¦‚å¿µã€‚

---

## ğŸ“‹ å‰ç½®çŸ¥è¯†

å®Œæˆç¬¬2é˜¶æ®µçš„ä½ ç°åœ¨çŸ¥é“ï¼š
- âœ… é¡¹ç›®çš„æ–‡ä»¶ç»“æ„
- âœ… è·¯ç”±ç³»ç»Ÿæ€ä¹ˆå·¥ä½œ
- âœ… æ•°æ®å¤§æ¦‚çš„æµåŠ¨æ–¹å¼

---

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ1: KVå­˜å‚¨

### ä»€ä¹ˆæ˜¯KVå­˜å‚¨ï¼Ÿ

KV = Key-Value (é’¥åŒ™-å€¼)

```
ç”µè¯ç°¿ä¾‹å­:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key (é’¥åŒ™)      â”‚ Value (å€¼)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "å¼ ä¸‰"          â”‚ "13800138000"   â”‚
â”‚ "æå››"          â”‚ "13900139000"   â”‚
â”‚ "ç‹äº”"          â”‚ "14000140000"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æœ¬é¡¹ç›®:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key                  â”‚ Value                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ resume:abc123        â”‚ { ç®€å†æ•°æ®... }              â”‚
â”‚ resume:def456        â”‚ { ç®€å†æ•°æ®... }              â”‚
â”‚ resume:ghi789        â”‚ { ç®€å†æ•°æ®... }              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»»åŠ¡: ç†è§£KVå­˜å‚¨çš„åŸºæœ¬æ“ä½œ

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)ï¼Œæ‰¾åˆ°"Console"æ ‡ç­¾é¡µã€‚

è¾“å…¥è¿™äº›å‘½ä»¤æ¥ç†è§£KVå­˜å‚¨ï¼š

```javascript
// 1. å­˜å‚¨æ•°æ®
await puter.kv.set("mykey", "myvalue")
// è¿”å›: æˆåŠŸ

// 2. è·å–æ•°æ®
const value = await puter.kv.get("mykey")
console.log(value)  // "myvalue"

// 3. åˆ é™¤æ•°æ®
await puter.kv.delete("mykey")

// 4. åˆ—å‡ºæ‰€æœ‰é”®
const keys = await puter.kv.list("*", false)
console.log(keys)  // æ‰€æœ‰é”®çš„åˆ—è¡¨

// 5. åˆ—å‡ºæ‰€æœ‰é”®å€¼å¯¹
const items = await puter.kv.list("*", true)
console.log(items)  // [{key: ..., value: ...}, ...]
```

### ä»»åŠ¡éªŒè¯æ¸…å•

- [ ] ç†è§£Keyæ˜¯ä»€ä¹ˆ (ä¸€ä¸ªæ–‡æœ¬æ ‡è¯†ç¬¦)
- [ ] ç†è§£Valueæ˜¯ä»€ä¹ˆ (æƒ³å­˜çš„ä»»ä½•æ•°æ®)
- [ ] çŸ¥é“set() ç”¨æ¥å­˜å‚¨
- [ ] çŸ¥é“ get() ç”¨æ¥è¯»å–
- [ ] çŸ¥é“ delete() ç”¨æ¥åˆ é™¤
- [ ] çŸ¥é“ list() ç”¨æ¥åˆ—å‡ºæ‰€æœ‰

---

## ğŸ“¦ æ ¸å¿ƒæ¦‚å¿µ2: JSON æ ¼å¼

### ä»€ä¹ˆæ˜¯JSONï¼Ÿ

JSON = JavaScript Object Notation
ä¸­æ–‡: JavaScriptå¯¹è±¡ç¬¦å·

å®ƒæ˜¯ä¸€ç§"æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼"ã€‚

```json
{
  "name": "å¼ ä¸‰",
  "age": 30,
  "email": "zhangsan@example.com",
  "scores": [85, 90, 88],
  "info": {
    "city": "åŒ—äº¬",
    "company": "Google"
  }
}
```

åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œç®€å†æ•°æ®å°±æ˜¯JSONæ ¼å¼ï¼š

```json
{
  "id": "abc123",
  "companyName": "Google",
  "jobTitle": "Frontend Engineer",
  "resumePath": "/home/user/abc123.pdf",
  "feedback": {
    "overallScore": 85,
    "ATS": {
      "score": 90,
      "tips": [
        { "type": "good", "tip": "æ¸…æ™°çš„æ ¼å¼" },
        { "type": "improve", "tip": "å¯ä»¥åŠ æŠ€èƒ½" }
      ]
    }
  }
}
```

### ä»»åŠ¡: å­¦ä¼šJSONçš„è¯»å†™

æ‰“å¼€ consoleï¼Œè¯•è¯•ï¼š

```javascript
// 1. åˆ›å»ºä¸€ä¸ªå¯¹è±¡
const resume = {
  id: "test123",
  companyName: "Apple",
  score: 88
}

// 2. è½¬æ¢æˆ JSON å­—ç¬¦ä¸² (å­˜å‚¨)
const json = JSON.stringify(resume)
console.log(json)
// "{"id":"test123","companyName":"Apple","score":88}"

// 3. å­˜å‚¨åˆ°KV
await puter.kv.set("resume:test123", json)

// 4. ä»KVè¯»å–
const jsonString = await puter.kv.get("resume:test123")
console.log(jsonString)  // çœ‹åˆ°JSONå­—ç¬¦ä¸²

// 5. è½¬æ¢å›å¯¹è±¡ (è¯»å–)
const data = JSON.parse(jsonString)
console.log(data.companyName)  // "Apple"
```

### ä»»åŠ¡éªŒè¯æ¸…å•

- [ ] ç†è§£JSONæ ¼å¼çš„åŸºæœ¬ç»“æ„
- [ ] èƒ½ç”¨JSON.stringify() æŠŠå¯¹è±¡å˜æˆå­—ç¬¦ä¸²
- [ ] èƒ½ç”¨JSON.parse() æŠŠå­—ç¬¦ä¸²å˜å›å¯¹è±¡
- [ ] çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·åš (KVå­˜å‚¨åªèƒ½å­˜å­—ç¬¦ä¸²)

---

## ğŸ“š æ ¸å¿ƒæ¦‚å¿µ3: CRUDæ“ä½œ

CRUD = Create, Read, Update, Delete (åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤)

### åˆ›å»º (Create)

```javascript
// åˆ›å»ºæ–°ç®€å†
const newResume = {
  id: "new123",
  companyName: "Microsoft",
  jobTitle: "Senior Engineer",
  feedback: null  // è¿˜æ²¡æœ‰è¯„åˆ†
}

// å­˜å‚¨åˆ°KV
await puter.kv.set("resume:new123", JSON.stringify(newResume))
// ç°åœ¨ç®€å†å·²ç»å­˜åœ¨äº‘ç«¯äº†ï¼
```

### è¯»å– (Read)

```javascript
// è¯»ä¸€ä¸ªç®€å†
const json = await puter.kv.get("resume:new123")
const resume = JSON.parse(json)
console.log(resume.companyName)  // "Microsoft"

// è¯»æ‰€æœ‰ç®€å†
const all = await puter.kv.list("resume:*", true)
console.log(all.length)  // æœ‰å¤šå°‘ä»½ç®€å†
```

### æ›´æ–° (Update)

```javascript
// è¯»å‡ºæ¥
const json = await puter.kv.get("resume:new123")
const resume = JSON.parse(json)

// ä¿®æ”¹
resume.feedback = {
  overallScore: 92,
  ATS: { score: 95 }
}

// ä¿å­˜å›å»
await puter.kv.set("resume:new123", JSON.stringify(resume))
// ç°åœ¨äº‘ç«¯çš„æ•°æ®å·²ç»æ›´æ–°äº†ï¼
```

### åˆ é™¤ (Delete)

```javascript
// åˆ é™¤ä¸€ä»½ç®€å†
await puter.kv.delete("resume:new123")
// å®ƒæ¶ˆå¤±äº†ï¼Œæ— æ³•æ¢å¤ï¼
```

### ä»»åŠ¡: è‡ªå·±åšä¸€éCRUD

åœ¨consoleä¸­ï¼š

1. **åˆ›å»º**: å­˜å‚¨ä¸€ä¸ªæ–°æ•°æ®
2. **è¯»å–**: å–å‡ºæ¥çœ‹çœ‹
3. **æ›´æ–°**: ä¿®æ”¹é‡Œé¢çš„æ•°æ®ï¼Œå†ä¿å­˜
4. **åˆ é™¤**: åˆ é™¤å®ƒ

å…¨éƒ¨æˆåŠŸâœ“ï¼Ÿ

---

## ğŸ“„ æ ¸å¿ƒæ¦‚å¿µ4: æ–‡ä»¶ç³»ç»Ÿ

### æ–‡ä»¶å’ŒKVçš„åŒºåˆ«

```
KVå­˜å‚¨: resume:abc123 â†’ {id, name, score, ...}  (å°æ•°æ®ï¼Œç»“æ„åŒ–)
æ–‡ä»¶ç³»ç»Ÿ: /home/user/abc123.pdf  (å¤§æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶)
```

### æ–‡ä»¶æ“ä½œ

#### ä¸Šä¼ æ–‡ä»¶

```javascript
// ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªPDF
const file = inputElement.files[0]

// ä¸Šä¼ åˆ°äº‘ç«¯
const uploaded = await puter.fs.upload([file])
// è¿”å›: { name, path, size, ... }
console.log(uploaded[0].path)  // "/home/user/abc123.pdf"
```

#### è¯»å–æ–‡ä»¶

```javascript
// è¯»å–æ–‡ä»¶å†…å®¹(ä¸ºäºŒè¿›åˆ¶æ•°æ®)
const blob = await puter.fs.read("/home/user/abc123.pdf")

// ç”¨æ¥æ˜¾ç¤ºPDF
const url = URL.createObjectURL(blob)
document.getElementById("pdf-viewer").src = url
```

#### åˆ é™¤æ–‡ä»¶

```javascript
// åˆ é™¤ä¸€ä¸ªæ–‡ä»¶
await puter.fs.delete("/home/user/abc123.pdf")
// å®ƒæ¶ˆå¤±äº†ï¼Œæ— æ³•æ¢å¤ï¼
```

### ä»»åŠ¡éªŒè¯æ¸…å•

- [ ] ç†è§£æ–‡ä»¶å­˜å‚¨å’ŒKVå­˜å‚¨çš„åŒºåˆ«
- [ ] çŸ¥é“ puter.fs.upload() æ€ä¹ˆç”¨
- [ ] çŸ¥é“ puter.fs.read() æ€ä¹ˆç”¨
- [ ] çŸ¥é“ puter.fs.delete() æ€ä¹ˆç”¨

---

## ğŸ”„ ä»»åŠ¡: å®Œæ•´çš„æ•°æ®æµ

### æ¨¡æ‹Ÿä¸Šä¼ ç®€å†çš„å®Œæ•´æµç¨‹

```javascript
// ========== ç”¨æˆ·ä¸Šä¼ ç®€å† ==========

// ç¬¬1æ­¥: ç”¨æˆ·é€‰æ‹©æ–‡ä»¶
const pdfFile = userSelectedFile  // æ¯”å¦‚ resume.pdf

// ç¬¬2æ­¥: ä¸Šä¼ æ–‡ä»¶åˆ°äº‘ç«¯
const uploaded = await puter.fs.upload([pdfFile])
const filePath = uploaded[0].path  // "/home/user/xyz.pdf"

// ç¬¬3æ­¥: åˆ›å»ºç®€å†å…ƒæ•°æ®
const resumeData = {
  id: "abc123",
  companyName: "Google",
  jobTitle: "Frontend Engineer",
  resumePath: filePath,
  feedback: null
}

// ç¬¬4æ­¥: å­˜å‚¨å…ƒæ•°æ®åˆ°KV
await puter.kv.set(
  "resume:abc123",
  JSON.stringify(resumeData)
)

// ========== ç”¨æˆ·æŸ¥çœ‹ç®€å† ==========

// ç¬¬1æ­¥: è¯»å…ƒæ•°æ®
const json = await puter.kv.get("resume:abc123")
const data = JSON.parse(json)

// ç¬¬2æ­¥: è¯»æ–‡ä»¶
const blob = await puter.fs.read(data.resumePath)

// ç¬¬3æ­¥: æ˜¾ç¤º
const url = URL.createObjectURL(blob)
document.getElementById("pdf").src = url
```

### ç†è§£å…³é”®ç‚¹

```
KVå­˜å‚¨ (å…ƒæ•°æ®)  â†â†’  æ–‡ä»¶ç³»ç»Ÿ (å®é™…æ–‡ä»¶)
resume:abc123   â†â†’  /home/user/xyz.pdf
  {id, name}         (å®é™…çš„PDFå†…å®¹)
```

---

## ğŸ§ª AIåä½œä»»åŠ¡

### æ·±å…¥ç†è§£

ä½¿ç”¨è¿™ä¸ªæç¤ºè¯ï¼š

```
è§£é‡Šä¸€ä¸‹åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼š

1. KVå­˜å‚¨å­˜çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿ
2. æ–‡ä»¶ç³»ç»Ÿå­˜çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿ
3. ä¸ºä»€ä¹ˆè¦åˆ†å¼€å­˜ï¼Ÿ
4. ä¸Šä¼ ç®€å†æ—¶ï¼Œä¸¤è¾¹éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
5. åˆ é™¤ç®€å†æ—¶ï¼Œè¦åŒæ—¶åˆ é™¤KVæ•°æ®å’Œæ–‡ä»¶å—ï¼Ÿ
```

### çœ‹å®é™…ä»£ç 

```
è¯·æ‰¾å‡ºåœ¨ä»£ç ä¸­çš„è¿™äº›ä½ç½®ï¼š

1. åœ¨å“ªé‡Œè°ƒç”¨ puter.fs.upload() (ä¸Šä¼ æ–‡ä»¶)
2. åœ¨å“ªé‡Œè°ƒç”¨ puter.kv.set() (ä¿å­˜å…ƒæ•°æ®)
3. åœ¨å“ªé‡Œè°ƒç”¨ puter.kv.get() (è¯»å…ƒæ•°æ®)
4. åœ¨å“ªé‡Œè°ƒç”¨ puter.fs.delete() (åˆ é™¤æ–‡ä»¶)

ä»£ç æ–‡ä»¶: [é¡¹ç›®æ–‡ä»¶ç»“æ„]
```

---

## ğŸ“Š é˜¶æ®µè‡ªæˆ‘è¯„ä¼°

### çŸ¥è¯†æ£€æŸ¥

| çŸ¥è¯†ç‚¹ | ç†è§£å—ï¼Ÿ |
|--------|----------|
| KVå­˜å‚¨çš„åŸºæœ¬æ¦‚å¿µ | â˜ æ˜¯ â˜ å¦ |
| Key-Valueçš„æ˜ å°„ | â˜ æ˜¯ â˜ å¦ |
| JSONæ ¼å¼ | â˜ æ˜¯ â˜ å¦ |
| CRUDæ“ä½œ | â˜ æ˜¯ â˜ å¦ |
| æ–‡ä»¶ç³»ç»Ÿå’ŒKVçš„åŒºåˆ« | â˜ æ˜¯ â˜ å¦ |
| å®Œæ•´çš„ä¸Šä¼ æµç¨‹ | â˜ æ˜¯ â˜ å¦ |

### å®é™…æ“ä½œæ£€æŸ¥

- [ ] èƒ½åœ¨consoleä¸­æ‰§è¡ŒKVæ“ä½œ
- [ ] èƒ½ç”¨JSON.stringify() å’Œ JSON.parse()
- [ ] èƒ½ç†è§£ä¸€ä¸ªç®€å†æ•°æ®çš„ç»“æ„
- [ ] èƒ½ç”»å‡º"æ•°æ®å­˜å‚¨"çš„å®Œæ•´æµç¨‹

---

## â¡ï¸ è¿›å…¥ç¬¬4é˜¶æ®µ

å®Œæˆç¬¬3é˜¶æ®µï¼Œä½ å·²ç»ç†è§£äº†ï¼š
- âœ… æ•°æ®æ˜¯æ€ä¹ˆå­˜çš„
- âœ… KVå­˜å‚¨å’Œæ–‡ä»¶ç³»ç»Ÿçš„ä½œç”¨
- âœ… JSONæ ¼å¼
- âœ… CRUDæ“ä½œ

ä¸‹ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬çœ‹**æ•´ä¸ªç³»ç»Ÿæ€ä¹ˆåä½œçš„**ï¼

ğŸ‘‰ æ‰“å¼€ **06-stage4-full-replication.md** ç»§ç»­ï¼

---

## ğŸ‰ æˆå°±å·²è§£é”

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âœ… æˆå°±: "æ•°æ®åº“ç®¡ç†å‘˜"              â•‘
â•‘                                       â•‘
â•‘ ä½ å·²ç»:                              â•‘
â•‘ â€¢ ç†è§£KVå­˜å‚¨                          â•‘
â•‘ â€¢ ä¼šç”¨JSONæ ¼å¼                        â•‘
â•‘ â€¢ ä¼šCRUDæ“ä½œ                          â•‘
â•‘ â€¢ æ‡‚æ•°æ®çš„ä¿å­˜æ–¹å¼                    â•‘
â•‘                                       â•‘
â•‘ ä½ ç°åœ¨èƒ½è¯´: "æ•°æ®æ€ä¹ˆå­˜çš„ï¼Œæˆ‘éƒ½æ‡‚ï¼"  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

è®°ä½ï¼š**ç†è§£æ•°æ®çš„æµåŠ¨æ˜¯ç¼–ç¨‹çš„æ ¸å¿ƒã€‚** ä½ åœ¨èµ°å‘é«˜æ‰‹ä¹‹è·¯ï¼ ğŸš€
